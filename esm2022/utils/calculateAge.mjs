/**
 * Calcula a idade a partir da data de nascimento.
 *
 * @param birthDate - Data de nascimento.
 * @returns Idade em anos.
 */
export function calculateAge(birthDate) {
    const today = new Date();
    let age = calculateYearDifference(today, birthDate);
    if (isBirthdayNotReachedThisYear(today, birthDate)) {
        age--;
    }
    return age;
}
function calculateYearDifference(date1, date2) {
    return date1.getFullYear() - date2.getFullYear();
}
function isBirthdayNotReachedThisYear(today, birthDate) {
    const monthDifference = today.getMonth() - birthDate.getMonth();
    const dayDifference = today.getDate() - birthDate.getDate();
    return monthDifference < 0 || (monthDifference === 0 && dayDifference < 0);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRlQWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWxzL2NhbGN1bGF0ZUFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQUMsU0FBZTtJQUMxQyxNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBRXpCLElBQUksR0FBRyxHQUFHLHVCQUF1QixDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztJQUVwRCxJQUFJLDRCQUE0QixDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsRUFBRTtRQUNsRCxHQUFHLEVBQUUsQ0FBQztLQUNQO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDO0FBRUQsU0FBUyx1QkFBdUIsQ0FBQyxLQUFXLEVBQUUsS0FBVztJQUN2RCxPQUFPLEtBQUssQ0FBQyxXQUFXLEVBQUUsR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDbkQsQ0FBQztBQUVELFNBQVMsNEJBQTRCLENBQUMsS0FBVyxFQUFFLFNBQWU7SUFDaEUsTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNoRSxNQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLEdBQUcsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBRTVELE9BQU8sZUFBZSxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsS0FBSyxDQUFDLElBQUksYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzdFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ2FsY3VsYSBhIGlkYWRlIGEgcGFydGlyIGRhIGRhdGEgZGUgbmFzY2ltZW50by5cclxuICpcclxuICogQHBhcmFtIGJpcnRoRGF0ZSAtIERhdGEgZGUgbmFzY2ltZW50by5cclxuICogQHJldHVybnMgSWRhZGUgZW0gYW5vcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVBZ2UoYmlydGhEYXRlOiBEYXRlKTogbnVtYmVyIHtcclxuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gIGxldCBhZ2UgPSBjYWxjdWxhdGVZZWFyRGlmZmVyZW5jZSh0b2RheSwgYmlydGhEYXRlKTtcclxuXHJcbiAgaWYgKGlzQmlydGhkYXlOb3RSZWFjaGVkVGhpc1llYXIodG9kYXksIGJpcnRoRGF0ZSkpIHtcclxuICAgIGFnZS0tO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFnZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlWWVhckRpZmZlcmVuY2UoZGF0ZTE6IERhdGUsIGRhdGUyOiBEYXRlKTogbnVtYmVyIHtcclxuICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSAtIGRhdGUyLmdldEZ1bGxZZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQmlydGhkYXlOb3RSZWFjaGVkVGhpc1llYXIodG9kYXk6IERhdGUsIGJpcnRoRGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IG1vbnRoRGlmZmVyZW5jZSA9IHRvZGF5LmdldE1vbnRoKCkgLSBiaXJ0aERhdGUuZ2V0TW9udGgoKTtcclxuICBjb25zdCBkYXlEaWZmZXJlbmNlID0gdG9kYXkuZ2V0RGF0ZSgpIC0gYmlydGhEYXRlLmdldERhdGUoKTtcclxuXHJcbiAgcmV0dXJuIG1vbnRoRGlmZmVyZW5jZSA8IDAgfHwgKG1vbnRoRGlmZmVyZW5jZSA9PT0gMCAmJiBkYXlEaWZmZXJlbmNlIDwgMCk7XHJcbn1cclxuIl19